/* =========================================================
   BIBLIAS.CSS – Librería Vida
   Unificado: chips + drawer, grid/list, modal, mini-cart
   Paleta: Azul profundo + acentos amarillo
   ========================================================= */

/* -------------------------
   Variables y base
-------------------------- */
:root{
  /* Marca */
  --azul-oscuro:#0a2a43;
  --azul:#1d4ed8;            /* primario */
  --azul-claro:#3b82f6;      /* acento */
  --amarillo:#facc15;        /* acento */
  --blanco:#ffffff;

  /* UI */
  --gris:#f6f8fb;
  --borde:#e5eaf1;
  --muted:#51607a;
  --texto:#0f172a;

  /* Estado/feedback */
  --ok:#10b981;
  --danger:#ef4444;

  /* Sombra */
  --shadow-1:0 6px 20px rgba(0,0,0,.15);
  --shadow-2:0 10px 24px rgba(0,0,0,.08);
  --shadow-3:0 20px 60px rgba(0,0,0,.25);
  --shadow-4:0 24px 50px rgba(0,0,0,.25);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color:var(--texto);
  background:var(--gris);
  line-height:1.55;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Accesibilidad focus visible */
:focus-visible{
  outline:3px solid color-mix(in oklch, var(--azul) 70%, white);
  outline-offset:2px;
  border-radius:8px;
}

/* -------------------------
   Header / navegación
-------------------------- */
.header{
  position:sticky; top:0; z-index:50;
  background:linear-gradient(90deg,var(--azul-oscuro),var(--azul));
  color:#fff; padding:.9rem 1.2rem;
  display:flex; align-items:center; gap:14px;
  box-shadow:var(--shadow-1);
}
.logo{display:flex; align-items:center; gap:.6rem; text-decoration:none; color:#fff}
.logo img{width:40px; height:40px; object-fit:contain}
.logo span{font-weight:800; letter-spacing:.2px}

.nav{margin-left:auto; display:flex; gap:1rem}
.nav a{color:#fff; text-decoration:none; font-weight:600; opacity:.92; padding:.2rem .3rem; border-radius:8px}
.nav a:hover,.nav a.active{color:var(--amarillo); opacity:1; background:rgba(255,255,255,.06)}

.menu-toggle{display:none; margin-left:auto; background:transparent; border:0; cursor:pointer}
.menu-toggle span{display:block; width:24px; height:3px; background:#fff; margin:4px 0; border-radius:2px}

.header__cta{
  margin-left:.5rem;
  padding:.5rem .9rem; background:var(--amarillo); color:#111; text-decoration:none;
  border-radius:10px; font-weight:800;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
}
.header__cta:hover{filter:brightness(1.04)}

/* -------------------------
   Breadcrumb
-------------------------- */
.breadcrumb{max-width:1200px; margin:12px auto 6px; padding:0 12px; color:#5b6676}
.breadcrumb a{color:#3c4d66; text-decoration:none}
.breadcrumb a:hover{text-decoration:underline}
.breadcrumb strong{color:#1d2939}

/* -------------------------
   Toolbar superior
-------------------------- */
.toolbar{
  max-width:1200px; margin:8px auto; padding:10px 12px;
  display:flex; gap:16px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap;
}
.left-tools{display:flex; gap:12px; align-items:center; flex-wrap:wrap}

/* Chips rápidas (estilo Amazon rápido) */
.filters{display:flex; gap:16px; flex-wrap:wrap}
.filter-group{
  display:flex; gap:8px; align-items:center; flex-wrap:wrap;
  background:#fff; border:1px solid var(--borde); border-radius:12px; padding:8px 10px
}
.filter-label{font-weight:800; color:#2f3a4b}
.chip{
  background:var(--azul-claro); color:#fff; border:0; border-radius:22px;
  padding:.42em .9em; cursor:pointer; font-weight:700; font-size:.95rem;
  transition:filter .2s ease, transform .05s ease;
}
.chip:hover{filter:brightness(1.05)}
.chip:active{transform:scale(.98)}
.chip.active{background:var(--amarillo); color:#111}

/* Búsqueda + orden */
.searchbox input{
  width:min(48vw,360px); padding:.6rem .8rem; border:1px solid var(--borde); border-radius:10px; outline:none; background:#fff;
}
.searchbox input::placeholder{color:#8a97ac}
.sorter{display:flex; gap:8px; align-items:center}
.sorter select{padding:.5rem .6rem; border:1px solid var(--borde); border-radius:8px; background:#fff}

/* Botones base */
.btn{
  padding:.55em 1em; border-radius:10px; border:1px solid var(--borde); cursor:pointer; font-weight:800; background:#fff;
  transition:filter .2s ease, transform .05s ease, background .2s ease;
}
.btn:active{transform:translateY(1px)}
.btn.primary{background:var(--azul); color:#fff; border-color:var(--azul)}
.btn.primary:hover{filter:brightness(1.05)}
.btn.ghost:hover{background:#f7f9fc}
.filter-btn{display:flex; align-items:center; gap:8px; border-color:#cfd7e3; background:#fff}

/* -------------------------
   Drawer de filtros (tipo Amazon)
-------------------------- */
.filters-drawer{
  position:fixed; inset:0 auto 0 0; width:min(92vw,360px);
  background:#fff; border-right:1px solid var(--borde);
  transform:translateX(-100%); transition:transform .28s ease;
  z-index:60; box-shadow:var(--shadow-3);
}
.filters-drawer.open{transform:translateX(0)}
.filters-drawer__header{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 14px; border-bottom:1px solid var(--borde)
}
.icon-btn{background:#fff; border:1px solid var(--borde); border-radius:8px; padding:.4rem .6rem; cursor:pointer}
.icon-btn:hover{background:#f5f7fb}

.filters-form{padding:12px 14px; display:grid; gap:14px}
.filters-form fieldset{border:1px solid var(--borde); border-radius:10px; padding:10px 12px}
.filters-form legend{font-weight:800; padding:0 6px}
.filters-form label{display:block; margin:.35rem 0; color:#2e3a51}
.price-field .price-row{display:flex; gap:8px; align-items:center}
.price-field input{width:100%; padding:.5rem .6rem; border:1px solid var(--borde); border-radius:8px}
.filters-actions{display:flex; gap:8px; justify-content:space-between}

.backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.45); z-index:55;
}

/* -------------------------
   Meta catálogo (contador + vista)
-------------------------- */
.catalog-meta{
  max-width:1200px; margin:4px auto 8px; padding:0 12px;
  display:flex; align-items:center; justify-content:space-between; color:#3a4860
}
.view-toggle{display:flex; gap:6px}
.view-toggle button{
  padding:.4rem .7rem; border:1px solid var(--borde); background:#fff; border-radius:8px; cursor:pointer
}
.view-toggle button.active{border-color:var(--azul); color:var(--azul); font-weight:700}

/* -------------------------
   Grid / Lista de productos
-------------------------- */
.grid{
  max-width:1200px; margin:8px auto 28px; padding:0 12px;
  display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:16px;
}
.grid.list{grid-template-columns:1fr}

/* Tarjeta */
.card-product{
  background:#fff; border-radius:14px; overflow:hidden;
  box-shadow:var(--shadow-2);
  border:1px solid var(--borde);
  transition:transform .15s ease, box-shadow .15s ease;
  display:flex; flex-direction:column;
}
.grid.list .card-product{flex-direction:row; gap:12px}
.card-product:hover{transform:translateY(-3px); box-shadow:0 14px 28px rgba(0,0,0,.12)}

.card-media{position:relative; background:#f2f4f8}
.card-media img{width:100%; height:240px; object-fit:cover; display:block}
.grid.list .card-media img{height:160px; width:220px}

.badge{
  position:absolute; top:10px; left:10px; background:rgba(0,0,0,.65); color:#fff;
  padding:.22rem .45rem; font-size:.8rem; border-radius:6px
}
.badge.price{right:10px; left:auto; background:var(--azul); font-weight:800}
.badge.sale{left:10px; background:var(--ok)}

.info{padding:.85rem}
.info h3{margin:.1rem 0 .35rem; color:#0e2e66; font-size:1.05rem}
.info p{margin:0; color:#5a6a81; font-size:.95rem}
.actions{margin-top:.7rem; display:flex; gap:8px}

/* -------------------------
   Modal + Galería
-------------------------- */
.modal{position:fixed; inset:0; display:none}
.modal.open{display:block}
.modal__backdrop{position:absolute; inset:0; background:rgba(0,0,0,.55)}
.modal__dialog{
  position:relative; z-index:2; max-width:980px; margin:40px auto; background:#fff;
  border-radius:14px; padding:18px; box-shadow:0 20px 70px rgba(0,0,0,.35)
}
.modal__close{position:absolute; right:10px; top:8px; border:0; background:transparent; font-size:30px; line-height:1; cursor:pointer}
.modal__close:hover{filter:brightness(1.1)}
.modal__header{display:flex; align-items:center; justify-content:space-between}
.modal__price{font-weight:800; color:var(--azul); font-size:1.1rem}

.product-gallery{display:grid; gap:10px; margin-top:8px}
.gallery__stage{
  position:relative; display:grid; place-items:center; background:#0b1220; border-radius:10px; padding:8px; min-height:300px
}
.gallery__stage img{max-height:480px; width:100%; object-fit:contain; background:#0b1220}
.gallery__nav{
  position:absolute; top:50%; transform:translateY(-50%); border:0; width:40px; height:40px; border-radius:50%;
  background:rgba(255,255,255,.2); color:#fff; cursor:pointer
}
.gallery__nav:hover{background:rgba(255,255,255,.35)}
.gallery__nav.left{left:8px} .gallery__nav.right{right:8px}

.thumbs{display:flex; gap:8px; overflow-x:auto; padding-bottom:4px}
.thumbs img{
  height:72px; width:96px; object-fit:cover; border-radius:8px; border:2px solid transparent; cursor:pointer; background:#fff
}
.thumbs img:hover{filter:brightness(1.04)}
.thumbs img.active{border-color:var(--amarillo)}

.modal__body{display:grid; grid-template-columns:1.6fr 1fr; gap:16px; margin-top:8px}
.modal__desc h4{margin:.2rem 0 .35rem}
.specs{margin:.2rem 0 0 1rem}
.modal__buy label{font-weight:700; display:block; margin-bottom:.25rem}
#qty{width:100px; padding:.45rem .55rem; border:1px solid var(--borde); border-radius:8px; margin-bottom:10px}
.modal__actions{display:flex; gap:8px; justify-content:flex-end; margin-top:10px}

/* -------------------------
   Mini-cart
-------------------------- */
.mini-cart{position:fixed; right:16px; bottom:16px; z-index:40}
.mini-cart__toggle{
  background:#0f172a; color:#fff; border:0; border-radius:999px; padding:.6rem .9rem; cursor:pointer; font-weight:800;
  box-shadow:0 10px 20px rgba(0,0,0,.25)
}
.mini-cart__toggle .qty{
  margin-left:.45rem; background:var(--amarillo); color:#111; padding:.05rem .45rem; border-radius:999px; font-weight:900
}
.mini-cart__panel{
  margin-top:8px; width:min(88vw,360px); background:#fff; border:1px solid var(--borde); border-radius:12px; box-shadow:var(--shadow-4);
  display:none; max-height:70vh; overflow:auto
}
.mini-cart.open .mini-cart__panel{display:block}
.mini-cart__items{list-style:none; margin:0; padding:.6rem}
.mini-cart__items li{
  display:grid; grid-template-columns:1fr auto; gap:6px; padding:.5rem .2rem;
  border-bottom:1px dashed var(--borde); font-size:.95rem
}
.mini-cart__items .rmv{
  color:var(--danger); background:transparent; border:0; cursor:pointer; font-weight:800
}
.mini-cart__items .rmv:hover{text-decoration:underline}
.mini-cart__footer{padding:.7rem .8rem; display:grid; gap:8px}
.mini-cart__footer .line{display:flex; align-items:center; justify-content:space-between}

/* -------------------------
   Footer
-------------------------- */
.footer{background:var(--azul-oscuro); color:#fff; text-align:center; padding:2rem 1rem}
.footer .accent{color:var(--amarillo)}

/* -------------------------
   Responsive
-------------------------- */
@media (max-width:1024px){
  .grid{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
}
@media (max-width:860px){
  .nav{display:none}
  .menu-toggle{display:block}
}
@media (max-width:900px){
  .card-media img{height:220px}
}
@media (max-width:768px){
  .grid{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}
  .grid.list .card-media img{width:160px; height:140px}
  .gallery__stage img{max-height:360px}
  .modal__body{grid-template-columns:1fr}
  .filters-drawer{width:min(92vw,380px)} /* un pelín más ancho en móvil */
}
@media (prefers-reduced-motion:reduce){
  *{scroll-behavior:auto}
  .btn,.chip,.card-product,.filters-drawer{transition:none}
}
